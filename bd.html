<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>åª½ï¼ç”Ÿæ—¥å¿«æ¨‚ï¼ï¼</title>
  <style>
    :root{
      --accent: #ff6b6b;
      --bg: #fffbe6;
      --card-w: 900px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      font-family: "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
      background: linear-gradient(180deg,#fdf6e3,#fff1e6);
      padding:20px;
      flex-direction: column;
    }
    .card{
      width: min(95%, var(--card-w));
      background: white;
      border-radius:18px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:0;
      align-items:stretch;
    }
    .left{
      padding:40px;
      position:relative;
    }
    .title{
      font-size:34px; color:var(--accent); margin:0 0 10px 0;
      letter-spacing:1px;
    }
    .msg{
      font-size:18px; color:#333; line-height:1.6;
    }
    .right{
      background-image: url('background.jpg'); /* æ›¿æ›æˆä½ çš„åœ–ç‰‡ */
      background-size:cover; background-position:center;
      min-height:320px;
      display:flex; align-items:flex-end; justify-content:center;
      padding:20px;
      color:#fff;
      position:relative;
    }
    .badge{
      background:rgba(0,0,0,0.35);
      padding:12px 16px;
      border-radius:12px;
      backdrop-filter: blur(4px);
      font-weight:600;
    }
    .controls{margin-top:20px; display:flex; gap:10px; flex-wrap:wrap}
    button{
      border:0; padding:10px 14px; border-radius:10px; cursor:pointer;
      background:var(--accent); color:#fff; font-weight:600;
    }
    .sparkle{
      position:absolute; inset:0; pointer-events:none;
      background-image: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.35) 0 2px, transparent 3px),
                        radial-gradient(circle at 80% 60%, rgba(255,255,255,0.25) 0 3px, transparent 4px);
      opacity:0; animation: appear 1s ease forwards;
    }
    @keyframes appear{
      from{opacity:0; transform:scale(0.95)}
      to{opacity:1; transform:scale(1)}
    }
    /* ç°¡å–®éŸ¿æ‡‰å¼ */
    @media (max-width:880px){
      .card{grid-template-columns: 1fr; padding:0}
      .right{min-height:220px}
    }
    #qrcode{margin-top:20px;}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="left">
      <h1 class="title" id="title">ç”Ÿæ—¥å¿«æ¨‚ï¼Œåª½åª½ ğŸ‚</h1>
      <p class="msg" id="msg">
        TO åª½:<br>
        è¬è¬ä½ ä¸€ç›´ä»¥ä¾†çš„ç…§é¡§èˆ‡åŒ…å®¹ï¼Œæ¯æ¬¡æˆ‘çŠ¯éŒ¯æˆ–æ˜¯æœ‰ä»»ä½•å•é¡Œéƒ½æœ‰ä½ åœ¨é™ªè‘—æˆ‘åº¦éï¼Œæœ‰ä½ çœŸå¥½
      </p>
      <p>ç¥ä½ ç”Ÿæ—¥å¿«æ¨‚ã€å¥åº·å¹³å®‰ã€äº‹äº‹é †å¿ƒï¼ğŸ˜ğŸ˜</p>

      <div class="controls">
        <button onclick="playConfetti()">ç‘èŠ±æ…¶ç¥</button>
        <button onclick="downloadCard()">ä¸‹è¼‰ PNG</button>
        <button onclick="toggleMessage()">åˆ‡æ›è³€è©</button>
      </div>
    </div>

    <div class="right">
      <div class="badge" id="ageBadge">æ°¸é çš„ 18 æ­²</div>
      <div class="sparkle" id="sparkle"></div>
    </div>
  </div>

  <!-- QR Code å®¹å™¨ -->
  <div id="qrcode"></div>

  <!-- å¼•å…¥å¥—ä»¶ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <script>
    let alt = false;

    function toggleMessage(){
      const msg = document.getElementById('msg');
      alt = !alt;
      msg.innerHTML = alt
        ? 'åª½ æŠ±æ­‰ä½ ç”Ÿæ—¥é€™å¤©æˆ‘é‚„åœ¨ä¸Šèª²è·Ÿå ±å‘Š ä¼°è¨ˆæœƒå¾ˆæ™šåˆ°å®¶ğŸ˜­ğŸ˜­<br>å¸Œæœ›ä»Šå¤©ä½ è·Ÿæœ‹å‹å‡ºå»åƒé£¯åƒå¾—é–‹å¿ƒ <br>ä½†æ˜¯åˆ¥å¿˜äº†æˆ‘å€‘å¾Œé¢é‚„æœ‰ç´„åƒé£¯å–”ï¼<br>è¨˜å¾—ç•™é»èƒƒçµ¦æˆ‘è·Ÿå“¥å“¥ï¼'
        : 'è¬è¬ä½ ä¸€ç›´ä»¥ä¾†çš„ç…§é¡§èˆ‡åŒ…å®¹ï¼Œç¥ä½ ç”Ÿæ—¥å¿«æ¨‚ã€å¥åº·å¹³å®‰ã€äº‹äº‹é †å¿ƒï¼ğŸ˜ğŸ˜<br>â€” michaelæ•¬ä¸Š';
    }

    function playConfetti(){
      for(let i=0;i<60;i++){
        const el = document.createElement('div');
        el.style.position='fixed';
        el.style.left = (50 + (Math.random()-0.5)*60) + '%';
        el.style.top = (10 + Math.random()*30) + '%';
        el.style.width = el.style.height = (6 + Math.random()*12) + 'px';
        el.style.background = ['#ff6b6b','#ffd166','#6a9c78','#6bc1ff'][Math.floor(Math.random()*4)];
        el.style.borderRadius='50%';
        el.style.opacity='0.95';
        el.style.zIndex=9999;
        document.body.appendChild(el);
        const dy = 600 + Math.random()*300;
        el.animate(
          [
            {transform:'translateY(0) rotate(0deg)', opacity:1},
            {transform:`translateY(${dy}px) rotate(${360*Math.random()}deg)`, opacity:0}
          ],
          { duration: 1800 + Math.random()*1200, easing:'cubic-bezier(.2,.8,.2,1)' }
        ).onfinish = ()=> el.remove();
      }
    }

    // ä¸‹è¼‰å¡ç‰‡
    function downloadCard(){
      const card = document.getElementById('card');
      html2canvas(card).then(canvas => {
        const link = document.createElement('a');
        link.download = 'birthday_card.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      });
    }

    // ç”¢ç”Ÿ QR Code
    var cardUrl = "https://ä½ çš„ç¶²å€/card.html";  // <-- é€™è£¡æ”¹æˆä½ ä¸Šå‚³çš„å¡ç‰‡ç¶²å€
    new QRCode(document.getElementById("qrcode"), {
      text: cardUrl,
      width: 160,
      height: 160,
      colorDark : "#000000",
      colorLight : "#ffffff",
      correctLevel : QRCode.CorrectLevel.H
    });
  </script>
</body>
</html>
